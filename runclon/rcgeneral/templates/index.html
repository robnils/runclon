{% extends 'base_template.html' %}
{% load staticfiles %}

{% block header %}
    <script src='{% static "js/index.js" %}'></script>
    <!--
    <script src='//cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js'></script>
    <link rel="stylesheet" type="text/css" href='//cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css'>
    -->
    <script src='{% static "js/datatables.js" %}'></script>
    <link rel="stylesheet" type="text/css" href='{% static "css/datatables.css" %}'>
{% endblock %}

{% block content %}
    <div class="container">
        <div class="row" style="width: 100%; margin: 15px 15px">
            <div class="row">
                <div class="col-xs-3">Total number of participants</div>
                <div class="col-xs-2" id="total_participants"></div>
            </div>
            <div class="row">
                <div class="col-xs-3">Number of registered</div>
                <div class="col-xs-2" id="number_registered"></div>
            </div>
            <div class="row">
                <div class="col-xs-3">Number of unregistered</div>
                <div class="col-xs-2" id="number_unregistered"></div>
            </div>
            <div class="row">
                <div class="col-xs-3">Most recent registration</div>
                <div class="col-xs-2" id="latest_registration"></div>
            </div>
        </div>

    </div>

    <script>

        $(document).ready(function () {
            var url = '/rcgeneral/fetch_statistics'
            var stats = fetch_statistics(url);
            //poll_fetch_statistics(url);
            console.log(stats);
        });
    </script>

{% endblock %}